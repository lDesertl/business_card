import React, { Suspense, useRef, useState } from "react";
import { Canvas } from "@react-three/fiber";
import "../Styles/SolarSystem.scss";
import Controls from "./Controls";
import Planet from "./Planet";
import Stars from "./Stars";
import PlanetControls from "./PlanetControls";
import { useEffect } from "react";
import Loader from "../Components/Loader";

const SolarSystem = ({ setLoading }) => {
  const cameraRef = useRef();
  const timeSpeed = 0.1;
  const [selectedPlanet, setSelectedPlanet] = useState(null);
  const [camControls, setCamControls] = useState(false);
  const [isLoading, setIsLoading] = useState(true);

  const handleSelectSun = () => {
    setSelectedPlanet(null);
    setCamControls(true);
  };

  return (
    <div className="SystemBox">
      {isLoading ? (
        <div className="StartBox">
          <div className="Instructions">
            <div className="Text">
              To rotate the solar system, use the left or right mouse button.
              <br /> To zoom in/out of the camera, use the mouse wheel.
              <br /> In order to start observing the planet, click on it with
              the left mouse button.
              <br /> To stop watching the planet, press the "Stop Spectating"
              button at the top of the screen. button
            </div>
          </div>
          <div
            className="Start"
            onClick={() => {
              setIsLoading(false);
              setCamControls(true);
            }}
          >
            <svg
              width="100%"
              height="100%"
              viewBox="0 0 300 100"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="xMidYMid  slice"
            >
              <rect
                x="27.655"
                y="10.5"
                width="242.75"
                height="80.25"
                rx="40.125"
                stroke="white"
                stroke-linecap="square"
                stroke-dasharray="10 10"
              />
              <path
                d="M125.338 44.8486C125.168 43.4092 124.477 42.2917 123.264 41.4963C122.052 40.7008 120.566 40.3031 118.804 40.3031C117.516 40.3031 116.389 40.5114 115.424 40.9281C114.467 41.3448 113.719 41.9177 113.179 42.6469C112.649 43.376 112.384 44.2046 112.384 45.1327C112.384 45.9092 112.568 46.5768 112.938 47.1355C113.317 47.6847 113.799 48.144 114.387 48.5133C114.974 48.8732 115.589 49.1715 116.233 49.4082C116.877 49.6355 117.469 49.8202 118.009 49.9622L120.963 50.7577C121.721 50.9565 122.564 51.2311 123.492 51.5815C124.429 51.9319 125.324 52.4101 126.176 53.0162C127.038 53.6128 127.748 54.3798 128.307 55.3173C128.866 56.2548 129.145 57.4054 129.145 58.769C129.145 60.341 128.733 61.7614 127.909 63.0304C127.095 64.2993 125.902 65.3078 124.33 66.056C122.767 66.8041 120.869 67.1781 118.634 67.1781C116.55 67.1781 114.746 66.8419 113.222 66.1696C111.707 65.4972 110.514 64.5597 109.642 63.3571C108.781 62.1544 108.293 60.7577 108.179 59.1667H111.816C111.91 60.2652 112.28 61.1743 112.924 61.894C113.577 62.6042 114.401 63.1346 115.395 63.4849C116.399 63.8258 117.478 63.9963 118.634 63.9963C119.978 63.9963 121.186 63.7785 122.256 63.3429C123.326 62.8978 124.174 62.2823 124.799 61.4963C125.424 60.7008 125.736 59.7728 125.736 58.7122C125.736 57.7463 125.466 56.9603 124.926 56.3542C124.387 55.7482 123.676 55.2558 122.796 54.877C121.915 54.4982 120.963 54.1667 119.941 53.8827L116.361 52.8599C114.088 52.2065 112.289 51.2738 110.963 50.0616C109.638 48.8495 108.975 47.2633 108.975 45.3031C108.975 43.6743 109.415 42.2539 110.296 41.0417C111.186 39.8202 112.379 38.8732 113.875 38.2008C115.381 37.519 117.062 37.1781 118.918 37.1781C120.793 37.1781 122.46 37.5143 123.918 38.1866C125.376 38.8495 126.531 39.7586 127.384 40.9139C128.246 42.0692 128.7 43.3808 128.747 44.8486H125.338ZM143.971 44.8486V47.6895H132.664V44.8486H143.971ZM135.96 39.6213H139.312V60.4167C139.312 61.3637 139.449 62.0739 139.724 62.5474C140.008 63.0114 140.368 63.3239 140.804 63.4849C141.249 63.6364 141.717 63.7122 142.21 63.7122C142.579 63.7122 142.882 63.6933 143.119 63.6554C143.356 63.608 143.545 63.5702 143.687 63.5417L144.369 66.5531C144.142 66.6383 143.824 66.7236 143.417 66.8088C143.01 66.9035 142.494 66.9508 141.869 66.9508C140.922 66.9508 139.994 66.7472 139.085 66.34C138.185 65.9328 137.437 65.3126 136.84 64.4792C136.253 63.6459 135.96 62.5948 135.96 61.3258V39.6213ZM155.434 67.1781C154.052 67.1781 152.797 66.9177 151.67 66.3969C150.543 65.8666 149.648 65.1042 148.985 64.1099C148.322 63.1061 147.991 61.894 147.991 60.4736C147.991 59.2236 148.237 58.2103 148.73 57.4338C149.222 56.6478 149.88 56.0323 150.704 55.5872C151.528 55.1421 152.437 54.8107 153.431 54.5929C154.435 54.3656 155.444 54.1857 156.457 54.0531C157.783 53.8827 158.857 53.7548 159.681 53.6696C160.515 53.5749 161.121 53.4186 161.5 53.2008C161.888 52.983 162.082 52.6042 162.082 52.0645V51.9508C162.082 50.5493 161.698 49.4603 160.931 48.6838C160.174 47.9073 159.023 47.519 157.48 47.519C155.879 47.519 154.625 47.8694 153.715 48.5702C152.806 49.2709 152.167 50.019 151.798 50.8145L148.616 49.6781C149.184 48.3524 149.942 47.3202 150.889 46.5815C151.845 45.8334 152.887 45.3126 154.014 45.019C155.15 44.716 156.268 44.5645 157.366 44.5645C158.067 44.5645 158.872 44.6497 159.781 44.8202C160.699 44.9811 161.585 45.3173 162.437 45.8287C163.299 46.34 164.014 47.1118 164.582 48.144C165.15 49.1762 165.434 50.5588 165.434 52.2917V66.6667H162.082V63.7122H161.911C161.684 64.1857 161.305 64.6923 160.775 65.2321C160.245 65.7719 159.539 66.2311 158.659 66.6099C157.778 66.9887 156.703 67.1781 155.434 67.1781ZM155.946 64.1667C157.271 64.1667 158.389 63.9063 159.298 63.3855C160.216 62.8647 160.908 62.1923 161.372 61.3685C161.845 60.5446 162.082 59.6781 162.082 58.769V55.7008C161.94 55.8713 161.627 56.0275 161.144 56.1696C160.671 56.3022 160.122 56.4205 159.497 56.5247C158.881 56.6194 158.28 56.7046 157.693 56.7804C157.115 56.8467 156.646 56.9035 156.286 56.9508C155.415 57.0645 154.601 57.2491 153.843 57.5048C153.095 57.751 152.489 58.1251 152.025 58.627C151.571 59.1194 151.343 59.7917 151.343 60.644C151.343 61.8088 151.774 62.6895 152.636 63.2861C153.507 63.8732 154.61 64.1667 155.946 64.1667ZM171.553 66.6667V44.8486H174.791V48.144H175.019C175.416 47.0645 176.136 46.1885 177.178 45.5162C178.219 44.8438 179.394 44.5077 180.701 44.5077C180.947 44.5077 181.255 44.5124 181.624 44.5219C181.993 44.5313 182.272 44.5455 182.462 44.5645V47.9736C182.348 47.9452 182.088 47.9025 181.681 47.8457C181.283 47.7794 180.862 47.7463 180.416 47.7463C179.356 47.7463 178.409 47.9688 177.576 48.4139C176.752 48.8495 176.098 49.4556 175.615 50.2321C175.142 50.9991 174.905 51.8751 174.905 52.8599V66.6667H171.553ZM197.291 44.8486V47.6895H185.985V44.8486H197.291ZM189.28 39.6213H192.632V60.4167C192.632 61.3637 192.77 62.0739 193.044 62.5474C193.328 63.0114 193.688 63.3239 194.124 63.4849C194.569 63.6364 195.038 63.7122 195.53 63.7122C195.899 63.7122 196.202 63.6933 196.439 63.6554C196.676 63.608 196.865 63.5702 197.007 63.5417L197.689 66.5531C197.462 66.6383 197.145 66.7236 196.737 66.8088C196.33 66.9035 195.814 66.9508 195.189 66.9508C194.242 66.9508 193.314 66.7472 192.405 66.34C191.505 65.9328 190.757 65.3126 190.161 64.4792C189.574 63.6459 189.28 62.5948 189.28 61.3258V39.6213Z"
                fill="white"
              />
              <rect
                x="0.5"
                y="0.5"
                width="299"
                height="99"
                rx="49.5"
                fill="white"
                fill-opacity="0.1"
                stroke="white"
                stroke-linecap="square"
              />
            </svg>
          </div>
        </div>
      ) : (
        ``
      )}
      {!camControls && !isLoading && (
        <div className="SelectSun" onClick={handleSelectSun}>
          <svg
            width="100"
            height="35"
            viewBox="0 0 100 35"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="0.5"
              y="0.5"
              width="99"
              height="34"
              rx="17"
              stroke="white"
              stroke-dasharray="2 2"
            />
            <path
              d="M10.9702 15.4545C10.919 15.0227 10.7116 14.6875 10.348 14.4489C9.98438 14.2102 9.53835 14.0909 9.00994 14.0909C8.62358 14.0909 8.28551 14.1534 7.99574 14.2784C7.70881 14.4034 7.48438 14.5753 7.32244 14.794C7.16335 15.0128 7.08381 15.2614 7.08381 15.5398C7.08381 15.7727 7.1392 15.973 7.25 16.1406C7.36364 16.3054 7.50852 16.4432 7.68466 16.554C7.8608 16.6619 8.04545 16.7514 8.23864 16.8224C8.43182 16.8906 8.60938 16.946 8.77131 16.9886L9.65767 17.2273C9.88494 17.2869 10.1378 17.3693 10.4162 17.4744C10.6974 17.5795 10.9659 17.723 11.2216 17.9048C11.4801 18.0838 11.6932 18.3139 11.8608 18.5952C12.0284 18.8764 12.1122 19.2216 12.1122 19.6307C12.1122 20.1023 11.9886 20.5284 11.7415 20.9091C11.4972 21.2898 11.1392 21.5923 10.6676 21.8168C10.1989 22.0412 9.62926 22.1534 8.95881 22.1534C8.33381 22.1534 7.79261 22.0526 7.33523 21.8509C6.88068 21.6491 6.52273 21.3679 6.26136 21.0071C6.00284 20.6463 5.85653 20.2273 5.82244 19.75H6.91335C6.94176 20.0795 7.05256 20.3523 7.24574 20.5682C7.44176 20.7812 7.68892 20.9403 7.98722 21.0455C8.28835 21.1477 8.61222 21.1989 8.95881 21.1989C9.36222 21.1989 9.72443 21.1335 10.0455 21.0028C10.3665 20.8693 10.6207 20.6847 10.8082 20.4489C10.9957 20.2102 11.0895 19.9318 11.0895 19.6136C11.0895 19.3239 11.0085 19.0881 10.8466 18.9062C10.6847 18.7244 10.4716 18.5767 10.2074 18.4631C9.94318 18.3494 9.65767 18.25 9.35085 18.1648L8.27699 17.858C7.59517 17.6619 7.0554 17.3821 6.65767 17.0185C6.25994 16.6548 6.06108 16.179 6.06108 15.5909C6.06108 15.1023 6.19318 14.6761 6.45739 14.3125C6.72443 13.946 7.08239 13.6619 7.53125 13.4602C7.98295 13.2557 8.48722 13.1534 9.04403 13.1534C9.60653 13.1534 10.1065 13.2543 10.544 13.456C10.9815 13.6548 11.3281 13.9276 11.5838 14.2741C11.8423 14.6207 11.9787 15.0142 11.9929 15.4545H10.9702ZM16.56 15.4545V16.3068H13.168V15.4545H16.56ZM14.1566 13.8864H15.1623V20.125C15.1623 20.4091 15.2035 20.6222 15.2859 20.7642C15.3711 20.9034 15.479 20.9972 15.6097 21.0455C15.7433 21.0909 15.8839 21.1136 16.0316 21.1136C16.1424 21.1136 16.2333 21.108 16.3043 21.0966C16.3754 21.0824 16.4322 21.071 16.4748 21.0625L16.6793 21.9659C16.6112 21.9915 16.516 22.017 16.3938 22.0426C16.2717 22.071 16.1168 22.0852 15.9293 22.0852C15.6452 22.0852 15.3668 22.0241 15.0941 21.902C14.8242 21.7798 14.5998 21.5938 14.4208 21.3438C14.2447 21.0938 14.1566 20.7784 14.1566 20.3977V13.8864ZM20.6616 22.1364C20.0707 22.1364 19.5522 21.9957 19.1062 21.7145C18.663 21.4332 18.3164 21.0398 18.0664 20.5341C17.8192 20.0284 17.6957 19.4375 17.6957 18.7614C17.6957 18.0795 17.8192 17.4844 18.0664 16.9759C18.3164 16.4673 18.663 16.0724 19.1062 15.7912C19.5522 15.5099 20.0707 15.3693 20.6616 15.3693C21.2525 15.3693 21.7695 15.5099 22.2127 15.7912C22.6587 16.0724 23.0053 16.4673 23.2525 16.9759C23.5025 17.4844 23.6275 18.0795 23.6275 18.7614C23.6275 19.4375 23.5025 20.0284 23.2525 20.5341C23.0053 21.0398 22.6587 21.4332 22.2127 21.7145C21.7695 21.9957 21.2525 22.1364 20.6616 22.1364ZM20.6616 21.233C21.1104 21.233 21.4798 21.1179 21.7695 20.8878C22.0593 20.6577 22.2738 20.3551 22.413 19.9801C22.5522 19.6051 22.6218 19.1989 22.6218 18.7614C22.6218 18.3239 22.5522 17.9162 22.413 17.5384C22.2738 17.1605 22.0593 16.8551 21.7695 16.6222C21.4798 16.3892 21.1104 16.2727 20.6616 16.2727C20.2127 16.2727 19.8434 16.3892 19.5536 16.6222C19.2638 16.8551 19.0494 17.1605 18.9102 17.5384C18.771 17.9162 18.7013 18.3239 18.7013 18.7614C18.7013 19.1989 18.771 19.6051 18.9102 19.9801C19.0494 20.3551 19.2638 20.6577 19.5536 20.8878C19.8434 21.1179 20.2127 21.233 20.6616 21.233ZM25.1626 24.4545V15.4545H26.1342V16.4943H26.2536C26.3274 16.3807 26.4297 16.2358 26.5604 16.0597C26.6939 15.8807 26.8842 15.7216 27.1314 15.5824C27.3814 15.4403 27.7195 15.3693 28.1456 15.3693C28.6967 15.3693 29.1825 15.5071 29.603 15.7827C30.0234 16.0582 30.3516 16.4489 30.5874 16.9545C30.8232 17.4602 30.9411 18.0568 30.9411 18.7443C30.9411 19.4375 30.8232 20.0384 30.5874 20.5469C30.3516 21.0526 30.0249 21.4446 29.6072 21.723C29.1896 21.9986 28.7081 22.1364 28.1626 22.1364C27.7422 22.1364 27.4055 22.0668 27.1527 21.9276C26.8999 21.7855 26.7053 21.625 26.5689 21.446C26.4325 21.2642 26.3274 21.1136 26.2536 20.9943H26.1683V24.4545H25.1626ZM26.1513 18.7273C26.1513 19.2216 26.2237 19.6577 26.3686 20.0355C26.5135 20.4105 26.7251 20.7045 27.0036 20.9176C27.282 21.1278 27.6229 21.233 28.0263 21.233C28.4467 21.233 28.7976 21.1222 29.0788 20.9006C29.3629 20.6761 29.576 20.375 29.718 19.9972C29.8629 19.6165 29.9354 19.1932 29.9354 18.7273C29.9354 18.267 29.8643 17.8523 29.7223 17.483C29.5831 17.1108 29.3714 16.8168 29.0874 16.6009C28.8061 16.3821 28.4524 16.2727 28.0263 16.2727C27.6172 16.2727 27.2734 16.3764 26.995 16.5838C26.7166 16.7884 26.5064 17.0753 26.3643 17.4446C26.2223 17.8111 26.1513 18.2386 26.1513 18.7273ZM40.4865 16.9205L39.5831 17.1761C39.5263 17.0256 39.4425 16.8793 39.3317 16.7372C39.2237 16.5923 39.076 16.473 38.8885 16.3793C38.701 16.2855 38.4609 16.2386 38.1683 16.2386C37.7678 16.2386 37.4339 16.331 37.1669 16.5156C36.9027 16.6974 36.7706 16.929 36.7706 17.2102C36.7706 17.4602 36.8615 17.6577 37.0433 17.8026C37.2251 17.9474 37.5092 18.0682 37.8956 18.1648L38.8672 18.4034C39.4524 18.5455 39.8885 18.7628 40.1754 19.0554C40.4624 19.3452 40.6058 19.7187 40.6058 20.1761C40.6058 20.5511 40.4979 20.8864 40.282 21.1818C40.0689 21.4773 39.7706 21.7102 39.3871 21.8807C39.0036 22.0511 38.5575 22.1364 38.049 22.1364C37.3814 22.1364 36.8288 21.9915 36.3913 21.7017C35.9538 21.4119 35.6768 20.9886 35.5604 20.4318L36.5149 20.1932C36.6058 20.5455 36.7777 20.8097 37.0305 20.9858C37.2862 21.1619 37.62 21.25 38.032 21.25C38.5007 21.25 38.8729 21.1506 39.1484 20.9517C39.4268 20.75 39.5661 20.5085 39.5661 20.2273C39.5661 20 39.4865 19.8097 39.3274 19.6562C39.1683 19.5 38.924 19.3835 38.5945 19.3068L37.5036 19.0511C36.9041 18.9091 36.4638 18.6889 36.1825 18.3906C35.9041 18.0895 35.7649 17.7131 35.7649 17.2614C35.7649 16.892 35.8686 16.5653 36.076 16.2812C36.2862 15.9972 36.5717 15.7741 36.9325 15.6122C37.2962 15.4503 37.7081 15.3693 38.1683 15.3693C38.8161 15.3693 39.3246 15.5114 39.6939 15.7955C40.0661 16.0795 40.3303 16.4545 40.4865 16.9205ZM42.1197 24.4545V15.4545H43.0913V16.4943H43.2106C43.2844 16.3807 43.3867 16.2358 43.5174 16.0597C43.6509 15.8807 43.8413 15.7216 44.0884 15.5824C44.3384 15.4403 44.6765 15.3693 45.1026 15.3693C45.6538 15.3693 46.1396 15.5071 46.56 15.7827C46.9805 16.0582 47.3086 16.4489 47.5444 16.9545C47.7802 17.4602 47.8981 18.0568 47.8981 18.7443C47.8981 19.4375 47.7802 20.0384 47.5444 20.5469C47.3086 21.0526 46.9819 21.4446 46.5643 21.723C46.1467 21.9986 45.6651 22.1364 45.1197 22.1364C44.6992 22.1364 44.3626 22.0668 44.1097 21.9276C43.8569 21.7855 43.6623 21.625 43.5259 21.446C43.3896 21.2642 43.2844 21.1136 43.2106 20.9943H43.1254V24.4545H42.1197ZM43.1083 18.7273C43.1083 19.2216 43.1808 19.6577 43.3256 20.0355C43.4705 20.4105 43.6822 20.7045 43.9606 20.9176C44.239 21.1278 44.5799 21.233 44.9833 21.233C45.4038 21.233 45.7546 21.1222 46.0359 20.9006C46.32 20.6761 46.533 20.375 46.6751 19.9972C46.82 19.6165 46.8924 19.1932 46.8924 18.7273C46.8924 18.267 46.8214 17.8523 46.6793 17.483C46.5401 17.1108 46.3285 16.8168 46.0444 16.6009C45.7631 16.3821 45.4094 16.2727 44.9833 16.2727C44.5742 16.2727 44.2305 16.3764 43.9521 16.5838C43.6737 16.7884 43.4634 17.0753 43.3214 17.4446C43.1793 17.8111 43.1083 18.2386 43.1083 18.7273ZM52.1765 22.1364C51.5458 22.1364 51.0018 21.9972 50.5444 21.7188C50.0898 21.4375 49.739 21.0455 49.4918 20.5426C49.2475 20.0369 49.1254 19.4489 49.1254 18.7784C49.1254 18.108 49.2475 17.517 49.4918 17.0057C49.739 16.4915 50.0827 16.0909 50.5231 15.804C50.9663 15.5142 51.4833 15.3693 52.0742 15.3693C52.4151 15.3693 52.7518 15.4261 53.0842 15.5398C53.4165 15.6534 53.7191 15.8381 53.9918 16.0938C54.2646 16.3466 54.4819 16.6818 54.6438 17.0994C54.8058 17.517 54.8867 18.0312 54.8867 18.642V19.0682H49.8413V18.1989H53.864C53.864 17.8295 53.7901 17.5 53.6424 17.2102C53.4975 16.9205 53.2901 16.6918 53.0202 16.5241C52.7532 16.3565 52.4379 16.2727 52.0742 16.2727C51.6737 16.2727 51.3271 16.3722 51.0344 16.571C50.7447 16.767 50.5217 17.0227 50.3654 17.3381C50.2092 17.6534 50.131 17.9915 50.131 18.3523V18.9318C50.131 19.4261 50.2163 19.8452 50.3867 20.1889C50.56 20.5298 50.8001 20.7898 51.1069 20.9688C51.4137 21.1449 51.7702 21.233 52.1765 21.233C52.4407 21.233 52.6793 21.196 52.8924 21.1222C53.1083 21.0455 53.2944 20.9318 53.4506 20.7812C53.6069 20.6278 53.7276 20.4375 53.8129 20.2102L54.7844 20.483C54.6822 20.8125 54.5103 21.1023 54.2688 21.3523C54.0273 21.5994 53.729 21.7926 53.3739 21.9318C53.0188 22.0682 52.6197 22.1364 52.1765 22.1364ZM59.0756 22.1364C58.462 22.1364 57.9336 21.9915 57.4904 21.7017C57.0472 21.4119 56.7063 21.0128 56.4677 20.5043C56.229 19.9957 56.1097 19.4148 56.1097 18.7614C56.1097 18.0966 56.2319 17.5099 56.4762 17.0014C56.7234 16.4901 57.0671 16.0909 57.5075 15.804C57.9506 15.5142 58.4677 15.3693 59.0586 15.3693C59.5188 15.3693 59.9336 15.4545 60.3029 15.625C60.6722 15.7955 60.9748 16.0341 61.2106 16.3409C61.4464 16.6477 61.5927 17.0057 61.6495 17.4148H60.6438C60.5671 17.1165 60.3967 16.8523 60.1325 16.6222C59.8711 16.3892 59.5188 16.2727 59.0756 16.2727C58.6836 16.2727 58.3398 16.375 58.0444 16.5795C57.7518 16.7812 57.5231 17.0668 57.3583 17.4361C57.1964 17.8026 57.1154 18.233 57.1154 18.7273C57.1154 19.233 57.195 19.6733 57.354 20.0483C57.516 20.4233 57.7433 20.7145 58.0359 20.9219C58.3313 21.1293 58.6779 21.233 59.0756 21.233C59.337 21.233 59.5742 21.1875 59.7873 21.0966C60.0004 21.0057 60.1808 20.875 60.3285 20.7045C60.4762 20.5341 60.5813 20.3295 60.6438 20.0909H61.6495C61.5927 20.4773 61.4521 20.8253 61.2276 21.1349C61.006 21.4418 60.712 21.6861 60.3455 21.8679C59.9819 22.0469 59.5586 22.1364 59.0756 22.1364ZM65.9663 15.4545V16.3068H62.5742V15.4545H65.9663ZM63.5629 13.8864H64.5685V20.125C64.5685 20.4091 64.6097 20.6222 64.6921 20.7642C64.7773 20.9034 64.8853 20.9972 65.016 21.0455C65.1495 21.0909 65.2901 21.1136 65.4379 21.1136C65.5487 21.1136 65.6396 21.108 65.7106 21.0966C65.7816 21.0824 65.8384 21.071 65.881 21.0625L66.0856 21.9659C66.0174 21.9915 65.9222 22.017 65.8001 22.0426C65.6779 22.071 65.5231 22.0852 65.3356 22.0852C65.0515 22.0852 64.7731 22.0241 64.5004 21.902C64.2305 21.7798 64.006 21.5938 63.8271 21.3438C63.6509 21.0938 63.5629 20.7784 63.5629 20.3977V13.8864ZM69.4052 22.1534C68.9904 22.1534 68.614 22.0753 68.2759 21.919C67.9379 21.7599 67.6694 21.5312 67.4705 21.233C67.2717 20.9318 67.1722 20.5682 67.1722 20.142C67.1722 19.767 67.2461 19.4631 67.3938 19.2301C67.5415 18.9943 67.739 18.8097 67.9862 18.6761C68.2333 18.5426 68.506 18.4432 68.8043 18.3778C69.1055 18.3097 69.408 18.2557 69.712 18.2159C70.1097 18.1648 70.4322 18.1264 70.6793 18.1009C70.9293 18.0724 71.1112 18.0256 71.2248 17.9602C71.3413 17.8949 71.3995 17.7812 71.3995 17.6193V17.5852C71.3995 17.1648 71.2844 16.8381 71.0543 16.6051C70.8271 16.3722 70.4819 16.2557 70.0188 16.2557C69.5387 16.2557 69.1623 16.3608 68.8896 16.571C68.6168 16.7812 68.4251 17.0057 68.3143 17.2443L67.3597 16.9034C67.5302 16.5057 67.7575 16.196 68.0415 15.9744C68.3285 15.75 68.641 15.5937 68.979 15.5057C69.32 15.4148 69.6552 15.3693 69.9847 15.3693C70.195 15.3693 70.4364 15.3949 70.7092 15.446C70.9847 15.4943 71.2504 15.5952 71.506 15.7486C71.7646 15.902 71.979 16.1335 72.1495 16.4432C72.32 16.7528 72.4052 17.1676 72.4052 17.6875V22H71.3995V21.1136H71.3484C71.2802 21.2557 71.1665 21.4077 71.0075 21.5696C70.8484 21.7315 70.6367 21.8693 70.3725 21.983C70.1083 22.0966 69.7859 22.1534 69.4052 22.1534ZM69.5586 21.25C69.9563 21.25 70.2915 21.1719 70.5643 21.0156C70.8398 20.8594 71.0472 20.6577 71.1864 20.4105C71.3285 20.1634 71.3995 19.9034 71.3995 19.6307V18.7102C71.3569 18.7614 71.2631 18.8082 71.1183 18.8509C70.9762 18.8906 70.8114 18.9261 70.6239 18.9574C70.4393 18.9858 70.2589 19.0114 70.0827 19.0341C69.9094 19.054 69.7688 19.071 69.6609 19.0852C69.3995 19.1193 69.1552 19.1747 68.9279 19.2514C68.7035 19.3253 68.5217 19.4375 68.3825 19.5881C68.2461 19.7358 68.1779 19.9375 68.1779 20.1932C68.1779 20.5426 68.3072 20.8068 68.5657 20.9858C68.8271 21.1619 69.158 21.25 69.5586 21.25ZM77.0874 15.4545V16.3068H73.6953V15.4545H77.0874ZM74.6839 13.8864H75.6896V20.125C75.6896 20.4091 75.7308 20.6222 75.8132 20.7642C75.8984 20.9034 76.0064 20.9972 76.1371 21.0455C76.2706 21.0909 76.4112 21.1136 76.5589 21.1136C76.6697 21.1136 76.7607 21.108 76.8317 21.0966C76.9027 21.0824 76.9595 21.071 77.0021 21.0625L77.2067 21.9659C77.1385 21.9915 77.0433 22.017 76.9212 22.0426C76.799 22.071 76.6442 22.0852 76.4567 22.0852C76.1726 22.0852 75.8942 22.0241 75.6214 21.902C75.3516 21.7798 75.1271 21.5938 74.9482 21.3438C74.772 21.0938 74.6839 20.7784 74.6839 20.3977V13.8864ZM78.6001 22V15.4545H79.6058V22H78.6001ZM79.1115 14.3636C78.9155 14.3636 78.7464 14.2969 78.6044 14.1634C78.4652 14.0298 78.3956 13.8693 78.3956 13.6818C78.3956 13.4943 78.4652 13.3338 78.6044 13.2003C78.7464 13.0668 78.9155 13 79.1115 13C79.3075 13 79.4751 13.0668 79.6143 13.2003C79.7564 13.3338 79.8274 13.4943 79.8274 13.6818C79.8274 13.8693 79.7564 14.0298 79.6143 14.1634C79.4751 14.2969 79.3075 14.3636 79.1115 14.3636ZM82.4535 18.0625V22H81.4478V15.4545H82.4194V16.4773H82.5046C82.658 16.1449 82.891 15.8778 83.2035 15.6761C83.516 15.4716 83.9194 15.3693 84.4137 15.3693C84.8569 15.3693 85.2447 15.4602 85.5771 15.642C85.9094 15.821 86.168 16.0938 86.3526 16.4602C86.5373 16.8239 86.6296 17.2841 86.6296 17.8409V22H85.6239V17.9091C85.6239 17.3949 85.4904 16.9943 85.2234 16.7074C84.9563 16.4176 84.5898 16.2727 84.1239 16.2727C83.8029 16.2727 83.516 16.3423 83.2631 16.4815C83.0131 16.6207 82.8157 16.8239 82.6708 17.0909C82.5259 17.358 82.4535 17.6818 82.4535 18.0625ZM91.1094 24.5909C90.6236 24.5909 90.206 24.5284 89.8565 24.4034C89.5071 24.2812 89.2159 24.1193 88.983 23.9176C88.7528 23.7188 88.5696 23.5057 88.4332 23.2784L89.2344 22.7159C89.3253 22.8352 89.4403 22.9716 89.5795 23.125C89.7188 23.2812 89.9091 23.4162 90.1506 23.5298C90.3949 23.6463 90.7145 23.7045 91.1094 23.7045C91.6378 23.7045 92.0739 23.5767 92.4176 23.321C92.7614 23.0653 92.9332 22.6648 92.9332 22.1193V20.7898H92.848C92.7741 20.9091 92.669 21.0568 92.5327 21.233C92.3991 21.4062 92.206 21.5611 91.9531 21.6974C91.7031 21.831 91.3651 21.8977 90.9389 21.8977C90.4105 21.8977 89.9361 21.7727 89.5156 21.5227C89.098 21.2727 88.767 20.9091 88.5227 20.4318C88.2813 19.9545 88.1605 19.375 88.1605 18.6932C88.1605 18.0227 88.2784 17.4389 88.5142 16.9418C88.75 16.4418 89.0781 16.0554 89.4986 15.7827C89.919 15.5071 90.4048 15.3693 90.956 15.3693C91.3821 15.3693 91.7202 15.4403 91.9702 15.5824C92.223 15.7216 92.4162 15.8807 92.5497 16.0597C92.6861 16.2358 92.7912 16.3807 92.8651 16.4943H92.9673V15.4545H93.9389V22.1875C93.9389 22.75 93.8111 23.2074 93.5554 23.5597C93.3026 23.9148 92.9616 24.1747 92.5327 24.3395C92.1065 24.5071 91.6321 24.5909 91.1094 24.5909ZM91.0753 20.9943C91.4787 20.9943 91.8196 20.902 92.098 20.7173C92.3764 20.5327 92.5881 20.267 92.733 19.9205C92.8778 19.5739 92.9503 19.1591 92.9503 18.6761C92.9503 18.2045 92.8793 17.7884 92.7372 17.4276C92.5952 17.0668 92.3849 16.7841 92.1065 16.5795C91.8281 16.375 91.4844 16.2727 91.0753 16.2727C90.6491 16.2727 90.294 16.3807 90.0099 16.5966C89.7287 16.8125 89.517 17.1023 89.375 17.4659C89.2358 17.8295 89.1662 18.233 89.1662 18.6761C89.1662 19.1307 89.2372 19.5327 89.3793 19.8821C89.5241 20.2287 89.7372 20.5014 90.0185 20.7003C90.3026 20.8963 90.6548 20.9943 91.0753 20.9943Z"
              fill="white"
            />
          </svg>
        </div>
      )}
      <Canvas
        style={{ background: "#000714" }}
        camera={{ position: [0, -10, 5], rotation: [Math.PI / 4, 0, 0] }} // Начальное положение камеры
        orbitControls={false}
      >
        <Suspense fallback={null}>
          <Loader setLoading={setLoading} />
          <ambientLight intensity={6} />
          <pointLight position={[10, 10, 10]} ref={cameraRef} />
          <Stars count={1000} r={20} r1={80} />
          <Planet
            modelPath="/Models/Sun/Sun.glb"
            radius={0}
            speed={0}
            scale={0.0006}
            timeSpeed={timeSpeed}
            speedOfRotation={0.0333}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Mercury.glb"
            radius={1}
            speed={4.79}
            scale={0.0001}
            timeSpeed={timeSpeed}
            speedOfRotation={0.017}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Venus.glb"
            radius={1.9}
            speed={3.5}
            scale={0.0002}
            timeSpeed={timeSpeed}
            speedOfRotation={0.004115}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Earth.glb"
            radius={2.6}
            speed={2.98}
            scale={0.00026}
            timeSpeed={timeSpeed}
            speedOfRotation={1}
            moon1Path={"/Models/Moons/Moon.glb"}
            moon1OrbitRadius={0.4}
            moon1OrbitSpeed={1.023}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.00005}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Mars.glb"
            radius={4}
            speed={2.41}
            scale={0.0002}
            timeSpeed={timeSpeed}
            speedOfRotation={0.97}
            moon1Path={"/Models/Moons/Phobos.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={2.138}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.001}
            moon2Path={"/Models/Moons/Deimos.glb"}
            moon2OrbitRadius={0.6}
            moon2OrbitSpeed={1.351}
            moon2SpeedOfRotation={0.14663}
            moon2Scale={0.002}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Jupiter.glb"
            radius={7}
            speed={1.31}
            scale={0.0005}
            timeSpeed={timeSpeed}
            speedOfRotation={2.2439}
            moon1Path={"/Models/Moons/Io.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={2.108}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.0001}
            moon2Path={"/Models/Moons/Europa.glb"}
            moon2OrbitRadius={0.6}
            moon2OrbitSpeed={1.369}
            moon2SpeedOfRotation={0.14663}
            moon2Scale={0.0001}
            moon3Path={"/Models/Moons/Ganymede.glb"}
            moon3OrbitRadius={0.7}
            moon3OrbitSpeed={1.07}
            moon3SpeedOfRotation={0.14663}
            moon3Scale={0.0001}
            moon4Path={"/Models/Moons/Callisto.glb"}
            moon4OrbitRadius={0.8}
            moon4OrbitSpeed={0.713}
            moon4SpeedOfRotation={0.14663}
            moon4Scale={0.0001}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Saturn.glb"
            radius={10}
            speed={0.97}
            scale={0.0003}
            timeSpeed={timeSpeed}
            speedOfRotation={2.2222}
            moon1Path={"/Models/Moons/Mimas.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={3.14}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.0001}
            moon2Path={"/Models/Moons/Enceladus.glb"}
            moon2OrbitRadius={0.6}
            moon2OrbitSpeed={2.01}
            moon2SpeedOfRotation={0.14663}
            moon2Scale={0.0001}
            moon3Path={"/Models/Moons/Tethys.glb"}
            moon3OrbitRadius={0.7}
            moon3OrbitSpeed={1.27}
            moon3SpeedOfRotation={0.14663}
            moon3Scale={0.0001}
            moon4Path={"/Models/Moons/Dione.glb"}
            moon4OrbitRadius={0.8}
            moon4OrbitSpeed={1.02}
            moon4SpeedOfRotation={0.14663}
            moon4Scale={0.0001}
            moon5Path={"/Models/Moons/Rhea.glb"}
            moon5OrbitRadius={0.9}
            moon5OrbitSpeed={0.67}
            moon5SpeedOfRotation={0.14663}
            moon5Scale={0.0001}
            moon6Path={"/Models/Moons/Titan.glb"}
            moon6OrbitRadius={1}
            moon6OrbitSpeed={0.47}
            moon6SpeedOfRotation={0.14663}
            moon6Scale={0.0001}
            moon7Path={"/Models/Moons/Hyperion.glb"}
            moon7OrbitRadius={1.1}
            moon7OrbitSpeed={0.37}
            moon7SpeedOfRotation={0.14663}
            moon7Scale={0.0001}
            moon8Path={"/Models/Moons/Iapetus.glb"}
            moon8OrbitRadius={1.2}
            moon8OrbitSpeed={0.23}
            moon8SpeedOfRotation={0.14663}
            moon8Scale={0.0001}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Uranus.glb"
            radius={13}
            speed={0.68}
            scale={0.0003}
            timeSpeed={timeSpeed}
            speedOfRotation={1.3888}
            moon1Path={"/Models/Moons/Miranda.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={1.44}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.0001}
            moon2Path={"/Models/Moons/Ariel.glb"}
            moon2OrbitRadius={0.6}
            moon2OrbitSpeed={1.19}
            moon2SpeedOfRotation={0.14663}
            moon2Scale={0.0001}
            moon3Path={"/Models/Moons/Umbriel.glb"}
            moon3OrbitRadius={0.7}
            moon3OrbitSpeed={1.04}
            moon3SpeedOfRotation={0.14663}
            moon3Scale={0.0001}
            moon4Path={"/Models/Moons/Titania.glb"}
            moon4OrbitRadius={0.8}
            moon4OrbitSpeed={0.88}
            moon4SpeedOfRotation={0.14663}
            moon4Scale={0.0001}
            moon5Path={"/Models/Moons/Oberon.glb"}
            moon5OrbitRadius={0.9}
            moon5OrbitSpeed={0.76}
            moon5SpeedOfRotation={0.14663}
            moon5Scale={0.0001}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Neptune.glb"
            radius={15.5}
            speed={0.54}
            scale={0.0003}
            timeSpeed={timeSpeed}
            speedOfRotation={1.4925}
            moon1Path={"/Models/Moons/Triton.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={2.25}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.0001}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />
          <Planet
            modelPath="/Models/Planets/Pluto.glb"
            radius={18}
            speed={0.47}
            scale={0.00007}
            timeSpeed={timeSpeed}
            speedOfRotation={0.1565}
            moon1Path={"/Models/Moons/Charon.glb"}
            moon1OrbitRadius={0.5}
            moon1OrbitSpeed={1.96}
            moon1SpeedOfRotation={0.14663}
            moon1Scale={0.0001}
            setCamControls={setCamControls}
            setSelectedPlanet={setSelectedPlanet}
          />

          {camControls ? (
            <Controls selectedPlanet={selectedPlanet} />
          ) : (
            <PlanetControls selectedPlanet={selectedPlanet} />
          )}
        </Suspense>
      </Canvas>
    </div>
  );
};

export default SolarSystem;
